google.maps.__gjsload__('layers', function(_){var XO=function(a,b,c,d){this.Mg=a;this.Og=b;this.Ng=c;this.Hg=this.Fg=null;this.Gg=this.Kg=d;this.Jg=new _.qn(this.Lg,0,this)},YO=function(a){const b=new _.Xy;b.layerId="traffic";a.Kg&&(b.parameters.incidents="1",b.parameters.incidents_text="1");b.parameters.t=a.Lg;return b},lHa=function(a,b){return function(c,d){const e=c.__gm.Uj;e.set(e.get().Cl(d));_.Il(c,a);_.Gl(c,b)}},mHa=function(a,b,c){a=a.__gm.Uj;a.set(a.get().un(b).Cl(c))},nHa=function(){return function(a,b){a=a.__gm.Uj;a.set(a.get().un(b))}},
oHa=function(){return window.__gm_trafficAutoRefreshPeriod||6E5},pHa=function(a,b,c,d,e){const f=new _.Xy;f.layerId=b;b=new _.kz;_.$y(b,68);const g=_.bz(b);_.Yy(g,"set");_.Zy(g,e);f.roadmapStyler=b;const h=new XO(lHa(c,d),mHa,nHa(),f);_.Lk(a,"map_changed",()=>{h.setMap(a.getMap())})};XO.prototype.setMap=function(a){this.Hg=a;_.rn(this.Jg)};
XO.prototype.Lg=function(){this.Hg==this.Fg?this.Fg&&this.Og(this.Fg,this.Kg,this.Gg):(this.Fg&&this.Ng(this.Fg,this.Kg),this.Hg&&this.Mg(this.Hg,this.Gg));this.Fg=this.Hg;this.Kg=this.Gg};var qHa=class{constructor(){var a=lHa("Lt",150951),b=nHa(),c=mHa;this.Hg=oHa();this.Gg=null;this.Kg=!1;this.Jg=!0;this.Lg=Math.floor(Date.now()/this.Hg);this.Fg=new XO(a,c,b,YO(this))}setMap(a){this.Fg.setMap(a);this.Gg=a}refresh(){if(this.Jg&&this.Gg){this.Lg=Math.floor(Date.now()/this.Hg);var a=this.Fg,b=YO(this);a.Gg=b;_.rn(a.Jg)}}};var rHa="function"===typeof WeakRef,sHa=class{constructor(){this.Gg=new Set;this.Fg=null;this.Jg=!0;this.Hg=!1}Lg(a){const b=new qHa,c=rHa?new WeakRef(b):b;_.Lk(a,"map_changed",()=>{b.setMap(a.getMap());a.getMap()?(this.Gg.add(c),this.Hg||(_.fu(document,"visibilitychange",this,this.Og),this.Hg=!0)):this.Gg.delete(c)});_.Lk(a,"showincidents_changed",()=>{var d=a.get("showIncidents");b.Kg=d;d=b.Fg;var e=YO(b);d.Gg=e;_.rn(d.Jg)});_.Lk(a,"autorefresh_changed",()=>{var d=0!=a.get("autoRefresh");b.Jg=d});
this.Fg||(this.Fg=new _.Tia(this.Ng,oHa(),this),this.Fg.Cj())}Kg(a){pHa(a,"bike","Lb",150950,"NonRoadmap")}Mg(a){pHa(a,"transit","Lr",150952,"TransitFocused")}Og(){const a=!document.hidden;a!==this.Jg&&(a?this.Fg.resume():this.Fg.pause(),this.Jg=a)}Ng(){for(const a of this.Gg){const b=rHa?a.deref():a;b?b.refresh():this.Gg.delete(a)}this.Fg.Cj()}};_.sk("layers",new sHa);});
